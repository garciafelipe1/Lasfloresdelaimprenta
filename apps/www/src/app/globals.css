@import 'tailwindcss';
@import 'tw-animate-css';

@plugin '@tailwindcss/typography';

@import './styles/custom-tw-classes.css';
@import './styles/theme.css';
@import './styles/typography.css';
@import './styles/patterns.css';

@custom-variant dark (&:is(.dark *));

@layer base {
  * {
    /* Usar la fuente base del tema (Geist via --font-sans) */
    @apply border-border outline-ring/50 font-sans;
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    @apply bg-background text-foreground scroll-smooth;
    font-family: var(--font-geist-sans, var(--font-geist), 'Geist', ui-sans-serif, system-ui, sans-serif);
    overflow-x: hidden;
  }

  /* Optimizaciones de rendimiento para scroll fluido */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  img,
  video {
    content-visibility: auto;
  }
}

@layer base {
  #recommended-products>li {
    list-style-type: none;
  }

  .w-full.rounded-xl.transition.group-hover\:shadow-xl {
    list-style-type: none;
  }
}

@layer utilities {

  /* Optimizaciones de rendimiento para scroll y animaciones */
  .scroll-smooth {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Contener layout para mejor rendimiento */
  .contain-layout {
    contain: layout style paint;
  }

  /* GPU acceleration para elementos que se animan */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
  }

  /* Fuente Cinzel para títulos, descripciones, botones y subtítulos */
  .font-cinzel {
    /* Preferir Cinzel local para asegurar carga consistente */
    font-family: 'CinzelBoldLocal', var(--font-cinzel), Georgia, 'Times New Roman', serif !important;
    font-weight: 700;
  }

  /* Cinzel Bold local (Cinzel-Bold.ttf) */
  .font-cinzel-local {
    font-family: 'CinzelBoldLocal', Georgia, 'Times New Roman', serif !important;
    font-weight: 700;
  }
}

@layer base {
  /* Forzar Cinzel SOLO en títulos de landing (Categorías + About Us) */
  .categories-section h2,
  .categories-section h3,
  .about-us-section h3,
  .about-us-section h3 *,
  .about-us-section a {
    font-family: 'CinzelBoldLocal', var(--font-cinzel), Georgia, 'Times New Roman', serif !important;
    font-weight: 700;
  }
}

@layer base {
  /* Navbar usa fuente normal (Geist) en lugar de Cinzel */
  header,
  header *,
  header button,
  header [role="button"],
  header small,
  header .subtitle,
  header p,
  header h1,
  header h2,
  header h3,
  header h4,
  header h5,
  header h6 {
    font-family: var(--font-geist-sans, var(--font-geist), 'Geist', sans-serif) !important;
    font-weight: normal;
  }

  /* Tablet/iPad (>=1024 y <1280): achicar logo DESKTOP sin tocar desktop grande */
  @media (min-width: 1024px) and (max-width: 1279px) {
    header .site-logo-desktop {
      height: 12.5rem !important; /* ~104px */
      width: auto !important;
    }
  }

  /* Ajustes de ergonomía SOLO en mobile (estilo “Nike”) */
  @media (max-width: 1023px) {
    /* Barra mobile: más aire vertical y altura consistente */
    header > .lg\:hidden {
      padding-top: 0.25rem;
      padding-bottom: 0.25rem;
    }

    /* Fila principal del header mobile (logo + botones) */
    header > .lg\:hidden > div.flex.items-center.justify-between.w-full {
      position: relative;
      min-height: 3.25rem; /* 52px */
      justify-content: flex-end !important; /* logo absoluto, botones a la derecha */
    }

    /* Botones mobile: área táctil y altura tipo Nike */
    header > .lg\:hidden > div.flex.items-center.justify-between.w-full [data-slot="button"] {
      height: 2.375rem !important; /* 38px */
      min-height: 2.375rem !important;
      width: 2.375rem !important;
      min-width: 2.375rem !important;
      padding-top: 0 !important;
      padding-bottom: 0 !important;
    }

    /* Íconos un poco más chicos (no cambia colores) */
    header > .lg\:hidden > div.flex.items-center.justify-between.w-full [data-slot="button"] svg {
      width: 1.125rem; /* 18px */
      height: 1.125rem; /* 18px */
    }

    /* Separación entre íconos más compacta */
    header > .lg\:hidden > div.flex.items-center.justify-between.w-full > div.flex.items-center.gap-2 {
      gap: 0.5rem; /* 8px (gap-2) */
      /* Empujar levemente hacia el borde derecho (sin pegarlo demasiado) */
      margin-right: calc(env(safe-area-inset-right, 0px) - 1rem);
    }

    /* Logo: alineado al extremo izquierdo (mobile) */
    header > .lg\:hidden > div.flex.items-center.justify-between.w-full > a[href="/"] {
      position: absolute;
      top: 50%;
      /* Compensa el padding horizontal del header (px-layout) para pegarlo al borde */
      left: calc(env(safe-area-inset-left, 0px) - var(--spacing-layout, 1.5rem));
      transform: translateY(-50%);
      display: block;
    }

    header > .lg\:hidden > div.flex.items-center.justify-between.w-full > a[href="/"] img {
      height: 1.875rem; /* 30px */
      width: auto;
      max-width: calc(100vw - 11rem); /* evita solaparse con íconos */
      object-fit: contain;
    }

    /* Extra-compacto para pantallas muy chicas */
    @media (max-width: 360px) {
      header > .lg\:hidden > div.flex.items-center.justify-between.w-full [data-slot="button"] {
        height: 2.25rem !important; /* 36px */
        min-height: 2.25rem !important;
        width: 2.25rem !important;
        min-width: 2.25rem !important;
      }

      header > .lg\:hidden > div.flex.items-center.justify-between.w-full > a[href="/"] img {
        height: 1.875rem; /* 30px */
        max-width: calc(100vw - 10rem);
      }
    }

    /* Menú mobile (Sheet portaled): aplicamos al menú (ul.divide-y) sin :has */
    [data-slot="sheet-content"] [data-slot="sheet-title"] a[href="/"] img {
      /* Solo existe en el MobileMenu; el carrito no tiene link a "/" en el title */
      height: 2.75rem; /* 44px */
      width: auto;
      max-width: 14rem;
      object-fit: contain;
    }

    [data-slot="sheet-content"] [data-slot="sheet-title"] {
      line-height: 1;
    }

    /* Ítems del mobile menu (lista principal) — más “Nike”: más altura táctil y aire */
    [data-slot="sheet-content"] ul.flex.flex-col.divide-y > li > a {
      display: flex;
      align-items: center;
      min-height: 3.25rem; /* 52px */
      padding-top: 0.95rem; /* ~15px */
      padding-bottom: 0.95rem;
      line-height: 1.2;
    }

    /* Ítems dropdown (AccordionTrigger) — igual altura táctil */
    [data-slot="sheet-content"] ul.flex.flex-col.divide-y [data-slot="accordion-trigger"] {
      min-height: 3.25rem; /* 52px */
      padding-top: 0.95rem !important;
      padding-bottom: 0.95rem !important;
      line-height: 1.2;
    }

    /* Subítems dentro del dropdown — un poco más compactos pero cómodos */
    [data-slot="sheet-content"] ul.flex.flex-col.divide-y [data-slot="accordion-content"] a.block {
      padding-top: 0.85rem;
      padding-bottom: 0.85rem;
      min-height: 3rem; /* 48px */
      line-height: 1.25;
    }

    /* Separación visual entre secciones (lista + selector de idioma) */
    [data-slot="sheet-content"] ul.flex.flex-col.divide-y {
      margin-top: 0.25rem;
    }
  }

  /* Servicios: todos los elementos dentro de prose usan color violeta (primary) - heredan del contenedor */
  .service-section .prose *,
  .service-section .prose p,
  .service-section .prose strong,
  .service-section .prose em,
  .service-section .prose a,
  .service-section .prose h1,
  .service-section .prose h2,
  .service-section .prose h3,
  .service-section .prose h4,
  .service-section .prose h5,
  .service-section .prose h6,
  .service-section .prose ul,
  .service-section .prose ol,
  .service-section .prose li,
  .service-section .prose blockquote,
  .service-detail-page .prose *,
  .service-detail-page .prose p,
  .service-detail-page .prose strong,
  .service-detail-page .prose em,
  .service-detail-page .prose a,
  .service-detail-page .prose h1,
  .service-detail-page .prose h2,
  .service-detail-page .prose h3,
  .service-detail-page .prose h4,
  .service-detail-page .prose h5,
  .service-detail-page .prose h6,
  .service-detail-page .prose ul,
  .service-detail-page .prose ol,
  .service-detail-page .prose li,
  .service-detail-page .prose blockquote {
    color: inherit !important;
  }
}